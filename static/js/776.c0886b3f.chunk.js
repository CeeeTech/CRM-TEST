"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[776],{3221:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var n=t(9466),s=t(9860),i=t(4813),a=t(9019),l=t(2832),o=t(1113),c=t(2247);var d=(0,t(7592).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}})),h=t(9536),u=t(3497),m=t(6417);var x=e=>{let{children:r,...t}=e;return(0,m.jsx)(u.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,m.jsx)(h.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})},p=t(7313),j=t(1550),g=t(3306),Z=t(9914),v=t(5480),f=t(1727),w=t(7131),y=t(3929),b=t(4758),S=t(9881),C=t(1095),P=t(3463),k=t(9429),E=t(7122),_=t(6287);var I=()=>{const e=(0,p.useRef)(!0);return(0,p.useEffect)((()=>()=>{e.current=!1}),[]),e},T=t(551),H=t(1730);const B=(0,p.forwardRef)(((e,r)=>{var t,n;let s,i,{children:a,type:l,direction:o,offset:c,scale:d}=e;switch(o){case"up":case"left":s=c,i=0;break;default:s=0,i=c}const[h,u]=(0,T.n)(s,i),[x,p]=(0,T.n)(s,i);switch(l){case"rotate":return(0,m.jsx)(H.E.div,{ref:r,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:a});case"slide":return"up"===o||"down"===o?(0,m.jsx)(H.E.div,{ref:r,animate:{y:void 0!==x?x:""},onHoverEnd:()=>p(),onHoverStart:()=>p(),children:a}):(0,m.jsx)(H.E.div,{ref:r,animate:{x:void 0!==h?h:""},onHoverEnd:()=>u(),onHoverStart:()=>u(),children:a});default:return"number"===typeof d&&(d={hover:d,tap:d}),(0,m.jsx)(H.E.div,{ref:r,whileHover:{scale:null===(t=d)||void 0===t?void 0:t.hover},whileTap:{scale:null===(n=d)||void 0===n?void 0:n.tap},children:a})}}));B.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}};var L=B,R=t(237),z=t(2611);var U=e=>{let{...r}=e;const t=(0,s.Z)(),n=I(),[i,a]=(0,p.useState)(!1),[o,d]=(0,p.useState)(!1),{login:u,error:x}=(()=>{const[e,r]=(0,p.useState)(null),[t,n]=(0,p.useState)(null),{dispatch:s}=(0,E.E)();return{login:async e=>{n(!0),r(null);const t=await fetch(_.Z.apiUrl+"api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await t.json();t.ok||(n(!1),r(i.error),console.log(i.error)),t.ok&&(localStorage.setItem("user",JSON.stringify(i)),s({type:"LOGIN",payload:i}),n(!1))},isLoading:t,error:e}})(),T=()=>{d(!o)},H=e=>{e.preventDefault()};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(k.J9,{initialValues:{email:"",password:"",submit:null},validationSchema:P.Ry().shape({email:P.Z_().email("Must be a valid email").max(255).required("Email is required"),password:P.Z_().max(255).required("Password is required")}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:s,setSubmitting:i}=r;try{await u(e)}catch(a){helpers.setStatus({success:!1}),helpers.setErrors({submit:x}),helpers.setSubmitting(!1)}try{n.current&&(s({success:!0}),i(!1))}catch(a){console.error(a),n.current&&(s({success:!1}),t({submit:a.message}),i(!1))}},children:e=>{let{errors:n,handleBlur:s,handleChange:d,handleSubmit:u,isSubmitting:p,touched:P,values:k}=e;return(0,m.jsxs)("form",{noValidate:!0,onSubmit:u,...r,children:[(0,m.jsxs)(j.Z,{fullWidth:!0,error:Boolean(P.email&&n.email),sx:{...t.typography.customInput},children:[(0,m.jsx)(g.Z,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),(0,m.jsx)(Z.Z,{id:"outlined-adornment-email-login",type:"email",value:k.email,name:"email",onBlur:s,onChange:d,label:"Email Address / Username",inputProps:{}}),P.email&&n.email&&(0,m.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),(0,m.jsxs)(j.Z,{fullWidth:!0,error:Boolean(P.password&&n.password),sx:{...t.typography.customInput},children:[(0,m.jsx)(g.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,m.jsx)(Z.Z,{id:"outlined-adornment-password-login",type:o?"text":"password",value:k.password,name:"password",onBlur:s,onChange:d,endAdornment:(0,m.jsx)(f.Z,{position:"end",children:(0,m.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:H,edge:"end",size:"large",children:o?(0,m.jsx)(R.Z,{}):(0,m.jsx)(z.Z,{})})}),label:"Password",inputProps:{}}),P.password&&n.password&&(0,m.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),(0,m.jsx)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:(0,m.jsx)(y.Z,{control:(0,m.jsx)(b.Z,{checked:i,onChange:e=>a(e.target.checked),name:"checked",color:"primary"}),label:"Remember me"})}),n.submit&&(0,m.jsx)(h.Z,{sx:{mt:3},children:(0,m.jsx)(v.Z,{error:!0,children:n.submit})}),x&&(0,m.jsxs)(h.Z,{children:[(0,m.jsx)(c.Z,{style:{height:"10px"},sx:{flexGrow:1},orientation:"horizontal"}),(0,m.jsx)(S.Z,{severity:"error",children:x}),(0,m.jsx)(c.Z,{style:{height:"10px"},sx:{flexGrow:1},orientation:"horizontal"})]}),(0,m.jsx)(h.Z,{sx:{mt:2},children:(0,m.jsx)(L,{children:(0,m.jsx)(C.Z,{disableElevation:!0,disabled:p,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign in"})})})]})}})})},W=t(891);var q=()=>(0,m.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",children:[(0,m.jsx)(o.Z,{variant:"subtitle2",color:"white",component:W.Z,href:"https://sltc.edu.lk",target:"_blank",underline:"hover",children:"SLTC - Research Univercity"}),(0,m.jsx)(o.Z,{variant:"subtitle2",color:"white",component:W.Z,href:"https://c3e.tech/",target:"_blank",underline:"hover",children:"\xa9 CEEE Technologies"})]}),A=t(4516),G=t.p+"static/media/sltc-crm-back-v2.645b06677630aa743ce9.jpg";var O=()=>{const e=(0,s.Z)(),r=(0,i.Z)(e.breakpoints.down("md"));return(0,m.jsx)(d,{children:(0,m.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh",backgroundColor:"#001d4f",backgroundImage:`url("${G}")`},children:[(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,m.jsx)(a.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,m.jsx)(x,{children:(0,m.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,m.jsx)(a.ZP,{item:!0,sx:{mb:3},children:(0,m.jsx)(n.rU,{to:"#",children:(0,m.jsx)("img",{src:A,width:"200px",alt:"SLTC Logo"})})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,sx:{marginTop:"-20px"},children:(0,m.jsx)(a.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,m.jsx)(a.ZP,{item:!0,children:(0,m.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,m.jsx)(o.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:"Welcome to SLTC - CRM"}),(0,m.jsx)(o.Z,{variant:"caption",fontSize:"16px",textAlign:r?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(U,{})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(c.Z,{})})]})})})})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,m.jsx)(q,{})})]})})}}}]);